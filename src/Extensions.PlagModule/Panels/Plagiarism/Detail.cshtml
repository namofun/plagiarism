@model PlagiarismSet
@{
    ViewData["Title"] = "Plagiarism Set: " + Model.Name;

    int ok = 0, no = 0, fail = 0;
    foreach (var s in Model.Submissions)
    {
        (!s.TokenProduced.HasValue ? ref no : ref (s.TokenProduced.Value ? ref ok : ref fail))++;
    }
}

<h2 class="mt-2">@ViewData["Title"]</h2>

<div class="row">
    <div class="col-lg-4">
        <table class="table table-sm table-striped">
            <tr>
                <th>ID</th>
                <td>@Model.Id</td>
            </tr>
            <tr>
                <th>Name</th>
                <td>@Model.Name</td>
            </tr>
            <tr>
                <th>Create Time</th>
                <td>@Model.CreateTime</td>
            </tr>
            <tr>
                <th>Submissions</th>
                <td>@(ok + no + fail) total, @ok ready, @fail failed</td>
            </tr>
            <tr>
                <th>Reports</th>
                <td>@(Model.ReportCount - Model.ReportPending) concluded, @Model.ReportPending pending</td>
            </tr>
        </table>
    </div>
</div>

<h3>Submissions</h3>
<datatable data="ViewBag.ViewModel" auto-width="false" />

<p>
    <a asp-action="Upload" asp-route-pid="@Model.Id" data-toggle="ajaxWindow" data-target="upload" class="btn btn-primary"><i class="fas fa-file-code"></i> Upload</a>
</p>
